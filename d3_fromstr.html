<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<title>D3 Test</title>
		<style>
			text {
				font-weight: 300;
				font-family: "Helvetica Neue", Helvetica, Arial, sans-serf;
				font-size: 14px;
			}

			.node text {
				fill: #fff;
				}

			.node rect {
				stroke: #999;
				fill: #fff;
				stroke-width: 1.5px;
			}

			.edgePath text {
				fill: #000;
			}

			.edgePath path {
				stroke: #999;
				stroke-width: 1.5px;
			}

			.edgePath arrowheadStyle {
				fill: #000;
			}

			#svg-canvas {
				border: 1px solid black;
			}
		</style>
	</head>
	<body>
		<script src="js/lib/jquery-2.1.3.min.js" charset="utf-8"></script>
		<script src="js/lib/d3.min.js" charset="utf-8"></script>
		<script src="js/lib/dagre-d3.min.js"></script>

		<svg id="svg-canvas" width=640 height=1></svg>

		<script>
				var str = '{"options":{"directed":true},"nodes":[{"v":"0","value":{"label":"TOP NODE","class":"type-TOP","rx":5,"ry":5,"style":"fill:gold;"}},{"v":"1","value":{"label":"S","class":"type-S","rx":5,"ry":5,"style":"fill:lime;"}},{"v":"2","value":{"label":"NP","class":"type-NP","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"3","value":{"label":"DT","class":"type-DT","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"4","value":{"label":"This","class":"type-TK","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"5","value":{"label":"VP","class":"type-VP","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"6","value":{"label":"VBZ","class":"type-VBZ","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"7","value":{"label":"is","class":"type-TK","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"8","value":{"label":"NP","class":"type-NP","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"9","value":{"label":"DT","class":"type-DT","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"10","value":{"label":"an","class":"type-TK","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"11","value":{"label":"NN","class":"type-NN","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"12","value":{"label":"example","class":"type-TK","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"13","value":{"label":".","class":"type-.","rx":5,"ry":5,"style":"fill:blue;"}},{"v":"14","value":{"label":"sentences","class":"type-TK","rx":5,"ry":5,"style":"fill:blue;"}}],"edges":[{"v":"3","w":"4","value":{"label": "edge 3->4", "labelpos":"c"}},{"v":"2","w":"3","value":{}},{"v":"1","w":"2","value":{}},{"v":"6","w":"7","value":{}},{"v":"5","w":"6","value":{}},{"v":"9","w":"10","value":{}},{"v":"8","w":"9","value":{}},{"v":"11","w":"12","value":{}},{"v":"8","w":"11","value":{}},{"v":"5","w":"8","value":{}},{"v":"1","w":"5","value":{"label":"1-5"}},{"v":"13","w":"14","value":{}},{"v":"1","w":"13","value":{"label":"1-13", "lineInterpolate": "basis","labelpos":"c"}},{"v":"0","w":"1","value":{"style":"stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;", "arrowheadStyle": "fill: #f66;stroke-dasharray:1,1;"}}],"value":{}}';
				var g = dagreD3.graphlib.json.read(JSON.parse(str));

				// Create the renderer
				var render = new dagreD3.render();

				// Set up an SVG group so that we can translate the final graph.
				var svg = d3.select("svg"),
						svgGroup = svg.append("g");

				// Run the renderer. This is what draws the final graph.
				render(d3.select("svg g"), g);

				// Center the graph
				var xCenterOffset = (svg.attr("width") - g.graph().width) / 2;
				svgGroup.attr("transform", "translate(" + xCenterOffset + ", 20)");
				svg.attr("height", g.graph().height + 40);
		</script>
	</body>
</html>